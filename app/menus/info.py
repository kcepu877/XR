#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IGlvCmltcG9ydCBxcmNvZGUKCmZyb20gYXBwLmNvbmZpZy5pbXBvcnRzIGltcG9ydCAqCmZyb20gYXBwLm1lbnVzLnV0aWwgaW1wb3J0IGNsZWFyX3NjcmVlbiwgcGF1c2UsIGxpdmVfbG9hZGluZywgc2ltcGxlX251bWJlcgoKY29uc29sZSA9IENvbnNvbGUoKQoKCmRlZiBnZW5lcmF0ZV9xcl9hc2NpaShkYXRhOiBzdHIpIC0+IHN0cjoKICAgIHFyID0gcXJjb2RlLlFSQ29kZShib3JkZXI9MSkKICAgIHFyLmFkZF9kYXRhKGRhdGEpCiAgICBxci5tYWtlKGZpdD1UcnVlKQogICAgb3V0cHV0ID0gaW8uU3RyaW5nSU8oKQogICAgcXIucHJpbnRfYXNjaWkob3V0PW91dHB1dCwgaW52ZXJ0PVRydWUpCiAgICByZXR1cm4gb3V0cHV0LmdldHZhbHVlKCkKCgpkZWYgc2hvd19pbmZvX21lbnUoKToKICAgIGNsZWFyX3NjcmVlbigpCiAgICBlbnN1cmVfZ2l0KCkKICAgIHRoZW1lID0gZ2V0X3RoZW1lKCkKICAgIHFyaXNfdXJsID0gKAogICAgICAgICIwMDAyMDEwMTAyMTEyNjU3MDAxMUlELkRBTkEuV1dXMDExODkzNjAwOTE1MzI0OTkzMDk0NTAyMDkyNDk5MzA5NDUwMzAzVU1JIgogICAgICAgICI1MTQ0MDAxNElELkNPLlFSSVMuV1dXMDIxNUlEMTAyNTQzOTgwODcyMjAzMDNVTUk1MjA0NTQxMTUzMDMzNjA1ODAySUQ1OTA4QmFyYmV4SUQiCiAgICAgICAgIjYwMDQwMTEzNjEwNTQ2NDY1NjMwNDdBODEiCiAgICApCgogICAgd2l0aCBsaXZlX2xvYWRpbmcoIk1lbnlpYXBrYW4gUVJJUy4uLiIsIHRoZW1lKToKICAgICAgICBxcl9jb2RlX2FzY2lpID0gZ2VuZXJhdGVfcXJfYXNjaWkocXJpc191cmwpCgogICAgY29uc29sZS5wcmludChQYW5lbCgKICAgICAgICBBbGlnbi5jZW50ZXIoIkR1a3VuZyBQZW5nZW1iYW5nYW4gbXlYTCBDTEkiLCB2ZXJ0aWNhbD0ibWlkZGxlIiksCiAgICAgICAgYm9yZGVyX3N0eWxlPXRoZW1lWyJib3JkZXJfaW5mbyJdLAogICAgICAgIHBhZGRpbmc9KDEsIDIpLAogICAgICAgIGV4cGFuZD1UcnVlCiAgICAgKSkKICAgIHNpbXBsZV9udW1iZXIoKQoKICAgIGRvbmF0ZV9pbmZvID0gVGV4dCgpCiAgICBkb25hdGVfaW5mby5hcHBlbmQoCiAgICAgICAgIkppa2EgQW5kYSBidXR1aCBLb2RlIFVubG9jayB1bnR1ayBtZW5hbWJhaGthbiBsZWJpaCBiYW55YWsgYWt1biwgaHVidW5naSBzYXlhIGRpIFRlbGVncmFtIChAYmFyYmV4X2lkKSwgdGVidXMgc2Vpa2hsYXNueWEg8J+YgVxuXG4iLAogICAgICAgIHN0eWxlPXRoZW1lWyJ0ZXh0X2JvZHkiXQogICAgKQogICAgZG9uYXRlX2luZm8uYXBwZW5kKAogICAgICAgICJEYW4gamlrYSBpbmdpbiBtZW1iZXJpa2FuIGRvbmFzaSB1bnR1ayBtZW5kdWt1bmcgcGVuZ2VtYmFuZ2FuIHRvb2wgaW5pLCBzaWxha2FuIGd1bmFrYW4gbWV0b2RlIGJlcmlrdXQ6XG5cbiIsCiAgICAgICAgc3R5bGU9dGhlbWVbInRleHRfYm9keSJdCiAgICApCiAgICBkb25hdGVfaW5mby5hcHBlbmQoIi0gRGFuYTogMDgzMS0xOTIxLTU1NDVcbiIsIHN0eWxlPXRoZW1lWyJ0ZXh0X2JvZHkiXSkKICAgIGRvbmF0ZV9pbmZvLmFwcGVuZCgiICBBL04gSm9rbyBTXG4iLCBzdHlsZT10aGVtZVsidGV4dF9ib2R5Il0pCiAgICBkb25hdGVfaW5mby5hcHBlbmQoIi0gUVJJUyB0ZXJzZWRpYSBkaSBiYXdhaFxuXG4iLCBzdHlsZT10aGVtZVsidGV4dF9ib2R5Il0pCiAgICBkb25hdGVfaW5mby5hcHBlbmQoIlRlcmltYSBrYXNpaCBhdGFzIGR1a3VuZ2FuIEFuZGEhIPCfmY8iLCBzdHlsZT10aGVtZVsidGV4dF9zdWIiXSkKCiAgICBjb25zb2xlLnByaW50KFBhbmVsKAogICAgICAgIEFsaWduLmxlZnQoZG9uYXRlX2luZm8pLAogICAgICAgIHRpdGxlPWYiW3t0aGVtZVsndGV4dF90aXRsZSddfV3wn5KwIERvbmFzaSBTZWlraGxhc255YVsvXSIsCiAgICAgICAgYm9yZGVyX3N0eWxlPXRoZW1lWyJib3JkZXJfcHJpbWFyeSJdLAogICAgICAgIHBhZGRpbmc9KDEsIDIpLAogICAgICAgIGV4cGFuZD1UcnVlLAogICAgICAgIHRpdGxlX2FsaWduPSJjZW50ZXIiCiAgICApKQoKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoCiAgICAgICAgQWxpZ24uY2VudGVyKHFyX2NvZGVfYXNjaWkpLAogICAgICAgIHRpdGxlPWYiW3t0aGVtZVsndGV4dF90aXRsZSddfV3wn5OxIFNjYW4gUVJJU1svXSIsCiAgICAgICAgYm9yZGVyX3N0eWxlPXRoZW1lWyJib3JkZXJfc3VjY2VzcyJdLAogICAgICAgIHBhZGRpbmc9KDEsIDIpLAogICAgICAgIGV4cGFuZD1UcnVlLAogICAgICAgIHRpdGxlX2FsaWduPSJjZW50ZXIiCiAgICApKQoKICAgIHBhdXNlKCkK').decode())
