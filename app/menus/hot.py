#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IHJlcXVlc3RzCgpmcm9tIGFwcC5jbGllbnQuZW5nc2VsIGltcG9ydCBnZXRfZmFtaWx5LCBnZXRfcGFja2FnZV9kZXRhaWxzCmZyb20gYXBwLm1lbnVzLnBhY2thZ2UgaW1wb3J0IHNob3dfcGFja2FnZV9kZXRhaWxzCmZyb20gYXBwLnNlcnZpY2UuYXV0aCBpbXBvcnQgQXV0aEluc3RhbmNlCmZyb20gYXBwLm1lbnVzLnV0aWwgaW1wb3J0IGNsZWFyX3NjcmVlbiwgZm9ybWF0X3F1b3RhX2J5dGUsIHBhdXNlLCBkaXNwbGF5X2h0bWwKZnJvbSBhcHAuY2xpZW50LnB1cmNoYXNlLmV3YWxsZXQgaW1wb3J0IHNob3dfbXVsdGlwYXltZW50CmZyb20gYXBwLmNsaWVudC5wdXJjaGFzZS5xcmlzIGltcG9ydCBzaG93X3FyaXNfcGF5bWVudApmcm9tIGFwcC5jbGllbnQucHVyY2hhc2UuYmFsYW5jZSBpbXBvcnQgc2V0dGxlbWVudF9iYWxhbmNlCmZyb20gYXBwLnR5cGVfZGljdCBpbXBvcnQgUGF5bWVudEl0ZW0KZnJvbSBhcHAudXRpbCBpbXBvcnQgbWVyZ2VfaG90MSwgbWVyZ2VfaG90MgoKV0lEVEggPSA1NQoKCmRlZiBzaG93X2hvdF9tZW51KCk6CiAgICBhcGlfa2V5ID0gQXV0aEluc3RhbmNlLmFwaV9rZXkKICAgIHRva2VucyA9IEF1dGhJbnN0YW5jZS5nZXRfYWN0aXZlX3Rva2VucygpCgogICAgaW5faG90X21lbnUgPSBUcnVlCiAgICB3aGlsZSBpbl9ob3RfbWVudToKICAgICAgICBjbGVhcl9zY3JlZW4oKQogICAgICAgIHByaW50KCI9IiAqIFdJRFRIKQogICAgICAgIHByaW50KCLwn5SlIFBha2V0IEhPVCDwn5SlIi5jZW50ZXIoV0lEVEgpKQogICAgICAgIHByaW50KCI9IiAqIFdJRFRIKQoKICAgICAgICBob3QxX3BhY2thZ2VzID0gbWVyZ2VfaG90MSgiaHR0cHM6Ly9tZS5tYXNodS5sb2wvcGctaG90Lmpzb24iKQoKICAgICAgICBpZiBub3QgaG90MV9wYWNrYWdlczoKICAgICAgICAgICAgcHJpbnQoIuKaoO+4jyBOZ2dhayBhZGEgZGF0YSBIT1QxIGJyby4iKQogICAgICAgICAgICBwYXVzZSgpCiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIGZvciBpZHgsIHAgaW4gZW51bWVyYXRlKGhvdDFfcGFja2FnZXMsIDEpOgogICAgICAgICAgICBwcmludChmIlt7aWR4fS5dIHtwWydmYW1pbHlfbmFtZSddfSAtIHtwWyd2YXJpYW50X25hbWUnXX0gLSB7cFsnb3B0aW9uX25hbWUnXX0iKQogICAgICAgICAgICBwcmludChmIiAgICAgKHNvdXJjZToge3BbJ3NvdXJjZSddfSkiKQogICAgICAgICAgICBwcmludCgiLSIgKiBXSURUSCkKCiAgICAgICAgcHJpbnQoIlswMC5dIEJhbGlrIGtlIG1lbnUgdXRhbWEiKQogICAgICAgIHByaW50KCItIiAqIFdJRFRIKQogICAgICAgIGNob2ljZSA9IGlucHV0KCJQaWxpaCBwYWtldCAobm9tb3IpOiAiKS5zdHJpcCgpCgogICAgICAgIGlmIGNob2ljZSA9PSAiMDAiOgogICAgICAgICAgICBpbl9ob3RfbWVudSA9IEZhbHNlCiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIGlmIGNob2ljZS5pc2RpZ2l0KCkgYW5kIDEgPD0gaW50KGNob2ljZSkgPD0gbGVuKGhvdDFfcGFja2FnZXMpOgogICAgICAgICAgICBzZWxlY3RlZF9ibSA9IGhvdDFfcGFja2FnZXNbaW50KGNob2ljZSkgLSAxXQogICAgICAgICAgICBmYW1pbHlfY29kZSA9IHNlbGVjdGVkX2JtWyJmYW1pbHlfY29kZSJdCiAgICAgICAgICAgIGlzX2VudGVycHJpc2UgPSBzZWxlY3RlZF9ibVsiaXNfZW50ZXJwcmlzZSJdCgogICAgICAgICAgICBmYW1pbHlfZGF0YSA9IGdldF9mYW1pbHkoYXBpX2tleSwgdG9rZW5zLCBmYW1pbHlfY29kZSwgaXNfZW50ZXJwcmlzZSkKICAgICAgICAgICAgaWYgbm90IGZhbWlseV9kYXRhOgogICAgICAgICAgICAgICAgcHJpbnQoIvCfkqUgR2FnYWwgYW1iaWwgZGF0YSBmYW1pbHkgYnJvLiIpCiAgICAgICAgICAgICAgICBwYXVzZSgpCiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgb3B0aW9uX2NvZGUgPSBOb25lCiAgICAgICAgICAgIGZvciB2YXJpYW50IGluIGZhbWlseV9kYXRhLmdldCgicGFja2FnZV92YXJpYW50cyIsIFtdKToKICAgICAgICAgICAgICAgIGlmIHZhcmlhbnRbIm5hbWUiXSA9PSBzZWxlY3RlZF9ibVsidmFyaWFudF9uYW1lIl06CiAgICAgICAgICAgICAgICAgICAgZm9yIG9wdGlvbiBpbiB2YXJpYW50LmdldCgicGFja2FnZV9vcHRpb25zIiwgW10pOgogICAgICAgICAgICAgICAgICAgICAgICBpZiBvcHRpb25bIm9yZGVyIl0gPT0gc2VsZWN0ZWRfYm1bIm9yZGVyIl06CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29kZSA9IG9wdGlvbi5nZXQoInBhY2thZ2Vfb3B0aW9uX2NvZGUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgIGlmIG9wdGlvbl9jb2RlOgogICAgICAgICAgICAgICAgcHJpbnQoZiLwn46vIE9wdGlvbiBjb2RlOiB7b3B0aW9uX2NvZGV9IikKICAgICAgICAgICAgICAgIHNob3dfcGFja2FnZV9kZXRhaWxzKGFwaV9rZXksIHRva2Vucywgb3B0aW9uX2NvZGUsIGlzX2VudGVycHJpc2UpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoIuKaoO+4jyBJbnB1dCBuZ2dhayB2YWxpZCBicm8uIENvYmEgbGFnaSDinIzvuI8iKQogICAgICAgICAgICBwYXVzZSgpCiAgICAgICAgICAgIGNvbnRpbnVlCgoKZGVmIHNob3dfaG90X21lbnUyKCk6CiAgICBhcGlfa2V5ID0gQXV0aEluc3RhbmNlLmFwaV9rZXkKICAgIHRva2VucyA9IEF1dGhJbnN0YW5jZS5nZXRfYWN0aXZlX3Rva2VucygpCgogICAgaW5faG90X21lbnUyID0gVHJ1ZQogICAgd2hpbGUgaW5faG90X21lbnUyOgogICAgICAgIGNsZWFyX3NjcmVlbigpCiAgICAgICAgbWFpbl9wYWNrYWdlX2RldGFpbCA9IHt9CiAgICAgICAgcHJpbnQoIj0iICogV0lEVEgpCiAgICAgICAgcHJpbnQoIvCflKUgUGFrZXQgSE9UIDIg8J+UpSIuY2VudGVyKFdJRFRIKSkKICAgICAgICBwcmludCgiPSIgKiBXSURUSCkKCiAgICAgICAgaG90Ml9wYWNrYWdlcyA9IG1lcmdlX2hvdDIoImh0dHBzOi8vbWUubWFzaHUubG9sL3BnLWhvdDIuanNvbiIpCgogICAgICAgIGlmIG5vdCBob3QyX3BhY2thZ2VzOgogICAgICAgICAgICBwcmludCgi4pqg77iPIE5nZ2FrIGFkYSBkYXRhIEhPVDIgYnJvLiIpCiAgICAgICAgICAgIHBhdXNlKCkKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgZm9yIGlkeCwgcCBpbiBlbnVtZXJhdGUoaG90Ml9wYWNrYWdlcywgMSk6CiAgICAgICAgICAgIHByaW50KGYiW3tpZHh9Ll0ge3BbJ25hbWUnXX0gLSB7cFsncHJpY2UnXX0iKQogICAgICAgICAgICBwcmludChmIiAgICAgKHNvdXJjZToge3BbJ3NvdXJjZSddfSkiKQogICAgICAgICAgICBwcmludCgiLSIgKiBXSURUSCkKCiAgICAgICAgcHJpbnQoIlswMC5dIEJhbGlrIGtlIG1lbnUgdXRhbWEiKQogICAgICAgIHByaW50KCItIiAqIFdJRFRIKQogICAgICAgIGNob2ljZSA9IGlucHV0KCJQaWxpaCBwYWtldCAobm9tb3IpOiAiKS5zdHJpcCgpCgogICAgICAgIGlmIGNob2ljZSA9PSAiMDAiOgogICAgICAgICAgICBpbl9ob3RfbWVudTIgPSBGYWxzZQogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICBpZiBjaG9pY2UuaXNkaWdpdCgpIGFuZCAxIDw9IGludChjaG9pY2UpIDw9IGxlbihob3QyX3BhY2thZ2VzKToKICAgICAgICAgICAgc2VsZWN0ZWRfcGFja2FnZSA9IGhvdDJfcGFja2FnZXNbaW50KGNob2ljZSkgLSAxXQogICAgICAgICAgICBwYWNrYWdlcyA9IHNlbGVjdGVkX3BhY2thZ2UuZ2V0KCJwYWNrYWdlcyIsIFtdKQogICAgICAgICAgICBpZiBub3QgcGFja2FnZXM6CiAgICAgICAgICAgICAgICBwcmludCgi4pqg77iPIFBha2V0IG5nZ2FrIHRlcnNlZGlhIGJyby4iKQogICAgICAgICAgICAgICAgcGF1c2UoKQogICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgIHBheW1lbnRfaXRlbXMgPSBbXQogICAgICAgICAgICBmb3IgcGFja2FnZSBpbiBwYWNrYWdlczoKICAgICAgICAgICAgICAgIHBhY2thZ2VfZGV0YWlsID0gZ2V0X3BhY2thZ2VfZGV0YWlscygKICAgICAgICAgICAgICAgICAgICBhcGlfa2V5LAogICAgICAgICAgICAgICAgICAgIHRva2VucywKICAgICAgICAgICAgICAgICAgICBwYWNrYWdlWyJmYW1pbHlfY29kZSJdLAogICAgICAgICAgICAgICAgICAgIHBhY2thZ2VbInZhcmlhbnRfY29kZSJdLAogICAgICAgICAgICAgICAgICAgIHBhY2thZ2VbIm9yZGVyIl0sCiAgICAgICAgICAgICAgICAgICAgcGFja2FnZVsiaXNfZW50ZXJwcmlzZSJdLAogICAgICAgICAgICAgICAgICAgIHBhY2thZ2VbIm1pZ3JhdGlvbl90eXBlIl0sCiAgICAgICAgICAgICAgICApCgogICAgICAgICAgICAgICAgaWYgcGFja2FnZSA9PSBwYWNrYWdlc1swXToKICAgICAgICAgICAgICAgICAgICBtYWluX3BhY2thZ2VfZGV0YWlsID0gcGFja2FnZV9kZXRhaWwKCiAgICAgICAgICAgICAgICBpZiBub3QgcGFja2FnZV9kZXRhaWw6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiLwn5KlIEdhZ2FsIGFtYmlsIGRldGFpbCBwYWtldCB7cGFja2FnZVsnZmFtaWx5X2NvZGUnXX0gYnJvLiIpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgICAgICAgICBwYXltZW50X2l0ZW1zLmFwcGVuZCgKICAgICAgICAgICAgICAgICAgICBQYXltZW50SXRlbSgKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbV9jb2RlPXBhY2thZ2VfZGV0YWlsWyJwYWNrYWdlX29wdGlvbiJdWyJwYWNrYWdlX29wdGlvbl9jb2RlIl0sCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfdHlwZT0iIiwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbV9wcmljZT1wYWNrYWdlX2RldGFpbFsicGFja2FnZV9vcHRpb24iXVsicHJpY2UiXSwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbV9uYW1lPXBhY2thZ2VfZGV0YWlsWyJwYWNrYWdlX29wdGlvbiJdWyJuYW1lIl0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRheD0wLAogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbl9jb25maXJtYXRpb249cGFja2FnZV9kZXRhaWxbInRva2VuX2NvbmZpcm1hdGlvbiJdLAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgIGNsZWFyX3NjcmVlbigpCiAgICAgICAgICAgIHByaW50KCI9IiAqIFdJRFRIKQogICAgICAgICAgICBwcmludChmIk5hbWE6IHtzZWxlY3RlZF9wYWNrYWdlWyduYW1lJ119IikKICAgICAgICAgICAgcHJpbnQoZiJIYXJnYToge3NlbGVjdGVkX3BhY2thZ2VbJ3ByaWNlJ119IikKICAgICAgICAgICAgcHJpbnQoZiJEZXRhaWw6IHtzZWxlY3RlZF9wYWNrYWdlWydkZXRhaWwnXX0iKQogICAgICAgICAgICBwcmludCgiPSIgKiBXSURUSCkKICAgICAgICAgICAgcHJpbnQoIk1haW4gUGFja2FnZSBEZXRhaWxzOiIuY2VudGVyKFdJRFRIKSkKICAgICAgICAgICAgcHJpbnQoIi0iICogV0lEVEgpCgogICAgICAgICAgICBwcmljZSA9IG1haW5fcGFja2FnZV9kZXRhaWxbInBhY2thZ2Vfb3B0aW9uIl1bInByaWNlIl0KICAgICAgICAgICAgZGV0YWlsID0gZGlzcGxheV9odG1sKG1haW5fcGFja2FnZV9kZXRhaWxbInBhY2thZ2Vfb3B0aW9uIl1bInRuYyJdKQogICAgICAgICAgICB2YWxpZGl0eSA9IG1haW5fcGFja2FnZV9kZXRhaWxbInBhY2thZ2Vfb3B0aW9uIl1bInZhbGlkaXR5Il0KCiAgICAgICAgICAgIG9wdGlvbl9uYW1lID0gbWFpbl9wYWNrYWdlX2RldGFpbC5nZXQoInBhY2thZ2Vfb3B0aW9uIiwge30pLmdldCgibmFtZSIsICIiKQogICAgICAgICAgICBmYW1pbHlfbmFtZSA9IG1haW5fcGFja2FnZV9kZXRhaWwuZ2V0KCJwYWNrYWdlX2ZhbWlseSIsIHt9KS5nZXQoIm5hbWUiLCAiIikKICAgICAgICAgICAgdmFyaWFudF9uYW1lID0gbWFpbl9wYWNrYWdlX2RldGFpbC5nZXQoInBhY2thZ2VfZGV0YWlsX3ZhcmlhbnQiLCB7fSkuZ2V0KCJuYW1lIiwgIiIpCgogICAgICAgICAgICB0aXRsZSA9IGYie2ZhbWlseV9uYW1lfSAtIHt2YXJpYW50X25hbWV9IC0ge29wdGlvbl9uYW1lfSIuc3RyaXAoKQoKICAgICAgICAgICAgZmFtaWx5X2NvZGUgPSBtYWluX3BhY2thZ2VfZGV0YWlsLmdldCgicGFja2FnZV9mYW1pbHkiLCB7fSkuZ2V0KCJwYWNrYWdlX2ZhbWlseV9jb2RlIiwgIiIpCiAgICAgICAgICAgIHBhcmVudF9jb2RlID0gbWFpbl9wYWNrYWdlX2RldGFpbC5nZXQoInBhY2thZ2VfYWRkb24iLCB7fSkuZ2V0KCJwYXJlbnRfY29kZSIsICIiKSBvciAiTi9BIgoKICAgICAgICAgICAgcGF5bWVudF9mb3IgPSBtYWluX3BhY2thZ2VfZGV0YWlsWyJwYWNrYWdlX2ZhbWlseSJdWyJwYXltZW50X2ZvciJdCgogICAgICAgICAgICBwcmludChmIk5hbWE6IHt0aXRsZX0iKQogICAgICAgICAgICBwcmludChmIkhhcmdhOiBScCB7cHJpY2V9IikKICAgICAgICAgICAgcHJpbnQoZiJQYXltZW50IEZvcjoge3BheW1lbnRfZm9yfSIpCiAgICAgICAgICAgIHByaW50KGYiTWFzYSBBa3RpZjoge3ZhbGlkaXR5fSIpCiAgICAgICAgICAgIHByaW50KGYiUG9pbnQ6IHttYWluX3BhY2thZ2VfZGV0YWlsWydwYWNrYWdlX29wdGlvbiddWydwb2ludCddfSIpCiAgICAgICAgICAgIHByaW50KGYiUGxhbiBUeXBlOiB7bWFpbl9wYWNrYWdlX2RldGFpbFsncGFja2FnZV9mYW1pbHknXVsncGxhbl90eXBlJ119IikKICAgICAgICAgICAgcHJpbnQoIi0iICogV0lEVEgpCiAgICAgICAgICAgIHByaW50KGYiRmFtaWx5IENvZGU6IHtmYW1pbHlfY29kZX0iKQogICAgICAgICAgICBwcmludChmIlBhcmVudCBDb2RlOiB7cGFyZW50X2NvZGV9IikKICAgICAgICAgICAgcHJpbnQoIi0iICogV0lEVEgpCgogICAgICAgICAgICBiZW5lZml0cyA9IG1haW5fcGFja2FnZV9kZXRhaWxbInBhY2thZ2Vfb3B0aW9uIl1bImJlbmVmaXRzIl0KICAgICAgICAgICAgaWYgYmVuZWZpdHMgYW5kIGlzaW5zdGFuY2UoYmVuZWZpdHMsIGxpc3QpOgogICAgICAgICAgICAgICAgcHJpbnQoIkJlbmVmaXRzOiIpCiAgICAgICAgICAgICAgICBmb3IgYmVuZWZpdCBpbiBiZW5lZml0czoKICAgICAgICAgICAgICAgICAgICBwcmludCgiLSIgKiBXSURUSCkKICAgICAgICAgICAgICAgICAgICBwcmludChmIiBOYW1lOiB7YmVuZWZpdFsnbmFtZSddfSIpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiIgIEl0ZW0gaWQ6IHtiZW5lZml0WydpdGVtX2lkJ119IikKICAgICAgICAgICAgICAgICAgICBkYXRhX3R5cGUgPSBiZW5lZml0WydkYXRhX3R5cGUnXQogICAgICAgICAgICAgICAgICAgIGlmIGRhdGFfdHlwZSA9PSAiVk9JQ0UiIGFuZCBiZW5lZml0Wyd0b3RhbCddID4gMDoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiIgIFRvdGFsOiB7YmVuZWZpdFsndG90YWwnXS82MH0gbWVuaXQiKQogICAgICAgICAgICAgICAgICAgIGVsaWYgZGF0YV90eXBlID09ICJURVhUIiBhbmQgYmVuZWZpdFsndG90YWwnXSA+IDA6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiICBUb3RhbDoge2JlbmVmaXRbJ3RvdGFsJ119IFNNUyIpCiAgICAgICAgICAgICAgICAgICAgZWxpZiBkYXRhX3R5cGUgPT0gIkRBVEEiIGFuZCBiZW5lZml0Wyd0b3RhbCddID4gMDoKICAgICAgICAgICAgICAgICAgICAgICAgcXVvdGFfZm9ybWF0dGVkID0gZm9ybWF0X3F1b3RhX2J5dGUoaW50KGJlbmVmaXRbJ3RvdGFsJ10pKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIiAgVG90YWw6IHtxdW90YV9mb3JtYXR0ZWR9ICh7ZGF0YV90eXBlfSkiKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiICBUb3RhbDoge2JlbmVmaXRbJ3RvdGFsJ119ICh7ZGF0YV90eXBlfSkiKQoKICAgICAgICAgICAgICAgICAgICBpZiBiZW5lZml0LmdldCgiaXNfdW5saW1pdGVkIik6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgIFVubGltaXRlZDogWWVzIikKCiAgICAgICAgICAgIHByaW50KCItIiAqIFdJRFRIKQogICAgICAgICAgICBwcmludChmIlNuSyBNeVhMOlxue2RldGFpbH0iKQogICAgICAgICAgICBwcmludCgiPSIgKiBXSURUSCkKCiAgICAgICAgICAgIHBheW1lbnRfZm9yID0gc2VsZWN0ZWRfcGFja2FnZS5nZXQoInBheW1lbnRfZm9yIiwgIkJVWV9QQUNLQUdFIikKICAgICAgICAgICAgYXNrX292ZXJ3cml0ZSA9IHNlbGVjdGVkX3BhY2thZ2UuZ2V0KCJhc2tfb3ZlcndyaXRlIiwgRmFsc2UpCiAgICAgICAgICAgIG92ZXJ3cml0ZV9hbW91bnQgPSBzZWxlY3RlZF9wYWNrYWdlLmdldCgib3ZlcndyaXRlX2Ftb3VudCIsIC0xKQogICAgICAgICAgICB0b2tlbl9jb25maXJtYXRpb25faWR4ID0gc2VsZWN0ZWRfcGFja2FnZS5nZXQoInRva2VuX2NvbmZpcm1hdGlvbl9pZHgiLCAwKQogICAgICAgICAgICBhbW91bnRfaWR4ID0gc2VsZWN0ZWRfcGFja2FnZS5nZXQoImFtb3VudF9pZHgiLCAtMSkKCiAgICAgICAgICAgIGluX3BheW1lbnRfbWVudSA9IFRydWUKICAgICAgICAgICAgd2hpbGUgaW5fcGF5bWVudF9tZW51OgogICAgICAgICAgICAgICAgcHJpbnQoIlBpbGloIE1ldG9kZSBQZW1iZWxpYW46IikKICAgICAgICAgICAgICAgIHByaW50KCIgWzEuXSBCYWxhbmNlIPCfkrAiKQogICAgICAgICAgICAgICAgcHJpbnQoIiBbMi5dIEUtV2FsbGV0IPCfk7EiKQogICAgICAgICAgICAgICAgcHJpbnQoIiBbMy5dIFFSSVMg8J+UsyIpCiAgICAgICAgICAgICAgICBwcmludCgiWzAwLl0gQmFsaWsga2UgbWVudSBzZWJlbHVtbnlhIikKICAgICAgICAgICAgICAgIHByaW50KCI9IiAqIFdJRFRIKQoKICAgICAgICAgICAgICAgIGlucHV0X21ldGhvZCA9IGlucHV0KCJQaWxpaCBtZXRvZGUgKG5vbW9yKTogIikuc3RyaXAoKQogICAgICAgICAgICAgICAgaWYgaW5wdXRfbWV0aG9kID09ICIxIjoKICAgICAgICAgICAgICAgICAgICBpZiBvdmVyd3JpdGVfYW1vdW50ID09IC0xOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIuKaoO+4jyBQYXN0aWthbiBzaXNhIGJhbGFuY2UgS1VSQU5HIERBUkkgUnB7cGF5bWVudF9pdGVtc1stMV1bJ2l0ZW1fcHJpY2UnXX0hISEiKQogICAgICAgICAgICAgICAgICAgICAgICBiYWxhbmNlX2Fuc3dlciA9IGlucHV0KCJZYWtpbiBsYW5qdXQgcGVtYmVsaWFuPyAoeS9uKTogIikuc3RyaXAoKS5sb3dlcigpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGJhbGFuY2VfYW5zd2VyICE9ICJ5IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCLihqnvuI8gUGVtYmVsaWFuIGRpYmF0YWxpbiBicm8uIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdXNlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluX3BheW1lbnRfbWVudSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgICAgICBzZXR0bGVtZW50X2JhbGFuY2UoCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaV9rZXksCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VucywKICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9pdGVtcywKICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9mb3IsCiAgICAgICAgICAgICAgICAgICAgICAgIGFza19vdmVyd3JpdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZV9hbW91bnQ9b3ZlcndyaXRlX2Ftb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5fY29uZmlybWF0aW9uX2lkeD10b2tlbl9jb25maXJtYXRpb25faWR4LAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRfaWR4PWFtb3VudF9pZHgsCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHBhdXNlKCkKICAgICAgICAgICAgICAgICAgICBpbl9wYXltZW50X21lbnUgPSBGYWxzZQogICAgICAgICAgICAgICAgICAgIGluX2hvdF9tZW51MiA9IEZhbHNlCgogICAgICAgICAgICAgICAgZWxpZiBpbnB1dF9tZXRob2QgPT0gIjIiOgogICAgICAgICAgICAgICAgICAgIHNob3dfbXVsdGlwYXltZW50KAogICAgICAgICAgICAgICAgICAgICAgICBhcGlfa2V5LAogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMsCiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfaXRlbXMsCiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRfZm9yLAogICAgICAgICAgICAgICAgICAgICAgICBhc2tfb3ZlcndyaXRlLAogICAgICAgICAgICAgICAgICAgICAgICBvdmVyd3JpdGVfYW1vdW50LAogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbl9jb25maXJtYXRpb25faWR4LAogICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRfaWR4LAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICBwYXVzZSgpCiAgICAgICAgICAgICAgICAgICAgaW5fcGF5bWVudF9tZW51ID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICBpbl9ob3RfbWVudTIgPSBGYWxzZQoKICAgICAgICAgICAgICAgIGVsaWYgaW5wdXRfbWV0aG9kID09ICIzIjoKICAgICAgICAgICAgICAgICAgICBzaG93X3FyaXNfcGF5bWVudCgKICAgICAgICAgICAgICAgICAgICAgICAgYXBpX2tleSwKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLAogICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2l0ZW1zLAogICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50X2ZvciwKICAgICAgICAgICAgICAgICAgICAgICAgYXNrX292ZXJ3cml0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcndyaXRlX2Ftb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5fY29uZmlybWF0aW9uX2lkeCwKICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50X2lkeCwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgcGF1c2UoKQogICAgICAgICAgICAgICAgICAgIGluX3BheW1lbnRfbWVudSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgaW5faG90X21lbnUyID0gRmFsc2UKCiAgICAgICAgICAgICAgICBlbGlmIGlucHV0X21ldGhvZCA9PSAiMDAiOgogICAgICAgICAgICAgICAgICAgIGluX3BheW1lbnRfbWVudSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KCLimqDvuI8gTWV0b2RlIG5nZ2FrIHZhbGlkIGJyby4gQ29iYSBsYWdpIOKcjO+4jyIpCiAgICAgICAgICAgICAgICAgICAgcGF1c2UoKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoIuKaoO+4jyBJbnB1dCBuZ2dhayB2YWxpZCBicm8uIENvYmEgbGFnaSDinIzvuI8iKQogICAgICAgICAgICBwYXVzZSgpCiAgICAgICAgICAgIGNvbnRpbnVlCg==').decode())
