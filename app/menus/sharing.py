#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IGpzb24KCmZyb20gYXBwLnNlcnZpY2UuYXV0aCBpbXBvcnQgQXV0aEluc3RhbmNlCmZyb20gYXBwLm1lbnVzLnV0aWwgaW1wb3J0IHBhdXNlLCBjbGVhcl9zY3JlZW4KZnJvbSBhcHAuY2xpZW50LmVuZ3NlbCBpbXBvcnQgZ2V0X2JhbGFuY2UKZnJvbSBhcHAuY2xpZW50LnNoYXJpbmcgaW1wb3J0IGJhbGFuY2VfYWxsb3RtZW50CmZyb20gYXBwLmNsaWVudC5jaWFtIGltcG9ydCBnZXRfYXV0aF9jb2RlCgpXSURUSCA9IDU1CgoKZGVmIHNob3dfYmFsYW5jZV9hbGxvdG1lbnRfbWVudSgpOgogICAgYWN0aXZlX3VzZXIgPSBBdXRoSW5zdGFuY2UuZ2V0X2FjdGl2ZV91c2VyKCkKICAgIGlmIG5vdCBhY3RpdmVfdXNlcjoKICAgICAgICBwcmludCgi4pqg77iPIEJlbHVtIGxvZ2luIGJybywgbmdnYWsgYmlzYSB0cmFuc2ZlciBwdWxzYS4iKQogICAgICAgIHBhdXNlKCkKICAgICAgICByZXR1cm4KCiAgICBiYWxhbmNlID0gZ2V0X2JhbGFuY2UoQXV0aEluc3RhbmNlLmFwaV9rZXksIGFjdGl2ZV91c2VyWyJ0b2tlbnMiXS5nZXQoImlkX3Rva2VuIikpIG9yIHt9CiAgICBjbGVhcl9zY3JlZW4oKQogICAgYmFsYW5jZV9yZW1haW5pbmcgPSBiYWxhbmNlLmdldCgicmVtYWluaW5nIiwgMCkKCiAgICBwcmludCgiPSIgKiBXSURUSCkKICAgIHByaW50KGYi8J+SuCBCQUxBTkNFIFNIQVJJTkcgfCBScCB7YmFsYW5jZV9yZW1haW5pbmd9Ii5jZW50ZXIoV0lEVEgpKQogICAgcHJpbnQoIi0iICogV0lEVEgpCiAgICBwcmludCgiUGFzdGlrYW4gUElOIHRyYW5zYWtzaSB1ZGFoIGRpLXNldCBkaSBNeVhMIPCflJAiLmNlbnRlcihXSURUSCkpCiAgICBwcmludCgiPSIgKiBXSURUSCkKCiAgICBwaW4gPSBpbnB1dCgiTWFzdWtpbiBQSU4gNiBkaWdpdDogIikuc3RyaXAoKQogICAgaWYgbGVuKHBpbikgIT0gNiBvciBub3QgcGluLmlzZGlnaXQoKToKICAgICAgICBwcmludCgi4p2MIEZvcm1hdCBQSU4gc2FsYWggYnJvLCBiYXRhbGluIGR1bHUuIikKICAgICAgICBwYXVzZSgpCiAgICAgICAgcmV0dXJuCgogICAgdHJ5OgogICAgICAgIHN0YWdlX3Rva2VuID0gZ2V0X2F1dGhfY29kZSgKICAgICAgICAgICAgYWN0aXZlX3VzZXJbInRva2VucyJdLAogICAgICAgICAgICBwaW4sCiAgICAgICAgICAgIGFjdGl2ZV91c2VyWyJudW1iZXIiXQogICAgICAgICkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIvCfkqUgR2FnYWwgYW1iaWwgc3RhZ2UgdG9rZW4gYnJvOiB7ZX0iKQogICAgICAgIHBhdXNlKCkKICAgICAgICByZXR1cm4KCiAgICBpZiBub3Qgc3RhZ2VfdG9rZW46CiAgICAgICAgcHJpbnQoIuKdjCBTdGFnZSB0b2tlbiBuZ2dhayB2YWxpZCBicm8sIGJhdGFsaW4gdHJhbnNmZXIuIikKICAgICAgICBwYXVzZSgpCiAgICAgICAgcmV0dXJuCgogICAgcmVjZWl2ZXJfbXNpc2RuID0gaW5wdXQoIk1hc3VraW4gbm9tb3IgcGVuZXJpbWEgKDYyOHh4eHgpOiAiKS5zdHJpcCgpCiAgICBhbW91bnRfc3RyID0gaW5wdXQoIk1hc3VraW4gbm9taW5hbCBwdWxzYSAoY29udG9oIDUwMDApOiAiKS5zdHJpcCgpCgogICAgdHJ5OgogICAgICAgIGFtb3VudCA9IGludChhbW91bnRfc3RyKQogICAgICAgIGlmIGFtb3VudCA8PSAwOgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJBbW91bnQgbXVzdCBiZSBwb3NpdGl2ZSIpCiAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICBwcmludCgi4p2MIE5vbWluYWwgbmdnYWsgdmFsaWQgYnJvLCBiYXRhbGluIHRyYW5zZmVyLiIpCiAgICAgICAgcGF1c2UoKQogICAgICAgIHJldHVybgoKICAgIHRyeToKICAgICAgICByZXMgPSBiYWxhbmNlX2FsbG90bWVudCgKICAgICAgICAgICAgQXV0aEluc3RhbmNlLmFwaV9rZXksCiAgICAgICAgICAgIGFjdGl2ZV91c2VyWyJ0b2tlbnMiXSwKICAgICAgICAgICAgc3RhZ2VfdG9rZW4sCiAgICAgICAgICAgIHJlY2VpdmVyX21zaXNkbiwKICAgICAgICAgICAgYW1vdW50LAogICAgICAgICkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIvCfkqUgR2FnYWwgYWxsb3RtZW50IGJybzoge2V9IikKICAgICAgICBwYXVzZSgpCiAgICAgICAgcmV0dXJuCgogICAgaWYgbm90IHJlczoKICAgICAgICBwcmludCgi4p2MIFRyYW5zZmVyIHB1bHNhIGdhZ2FsIGJyby4iKQogICAgICAgIHBhdXNlKCkKICAgICAgICByZXR1cm4KCiAgICBwcmludCgi4pyFIFRyYW5zZmVyIGJlcmhhc2lsIGJybywgZGV0YWlsIHJlc3BvbnNlOiIpCiAgICBwcmludChqc29uLmR1bXBzKHJlcywgaW5kZW50PTIpKQogICAgcGF1c2UoKQogICAgcmV0dXJuIHJlcwo=').decode())
