#!/usr/bin/env python3
import base64
exec(base64.b64decode('ZnJvbSBhcHAuY2xpZW50LmVuZ3NlbCBpbXBvcnQgc2VuZF9hcGlfcmVxdWVzdAoKZGVmIHZhbGlkYXRlX3B1aygKICAgIGFwaV9rZXk6IHN0ciwKICAgIG1zaXNkbjogc3RyLAogICAgcHVrOiBzdHIsCikgLT4gZGljdDoKICAgIHBhdGggPSAiYXBpL3Y4L2luZm9zL3ZhbGlkYXRlLXB1ayIKCiAgICByYXdfcGF5bG9hZCA9IHsKICAgICAgICAiaXNfZW50ZXJwcmlzZSI6IEZhbHNlLAogICAgICAgICJwdWsiOiBwdWssCiAgICAgICAgImlzX2VuYyI6IEZhbHNlLAogICAgICAgICJtc2lzZG4iOiBtc2lzZG4sCiAgICAgICAgImxhbmciOiAiZW4iCiAgICB9CgogICAgcmVzID0gc2VuZF9hcGlfcmVxdWVzdChhcGlfa2V5LCBwYXRoLCByYXdfcGF5bG9hZCwgIiIsICJQT1NUIikKCiAgICByZXR1cm4gcmVzCgpkZWYgZHVrY2FwaWwoCiAgICBhcGlfa2V5OiBzdHIsCiAgICBtc2lzZG46IHN0ciwKICAgIGtrOiBzdHIsCiAgICBuaWs6IHN0ciwKKSAtPiBkaWN0OgogICAgcGF0aCA9ICJhcGkvdjgvYXV0aC9yZWdpc3QvZHVrY2FwaWwiCgogICAgcmF3X3BheWxvYWQgPSB7CiAgICAgICAgIm1zaXNkbiI6IG1zaXNkbiwKICAgICAgICAia2siOiBraywKICAgICAgICAibmlrIjogbmlrLAogICAgICAgICJsYW5nIjogImVuIgogICAgfQoKICAgIHJlcyA9IHNlbmRfYXBpX3JlcXVlc3QoYXBpX2tleSwgcGF0aCwgcmF3X3BheWxvYWQsICIiLCAiUE9TVCIpCgogICAgcmV0dXJuIHJlcwo=').decode())
