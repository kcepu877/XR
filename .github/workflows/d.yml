name: ðŸš€ Rollback dengan Token Khusus

on:
  workflow_dispatch:  # Hanya manual trigger

jobs:
  force-rollback:
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸ“¥ Checkout dengan Token Khusus
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          token: ${{ secrets.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 }}  # <- Token Anda di sini
      
      - name: ðŸ› ï¸ Setup Git
        run: |
          git config --global user.name "Rollback Bot"
          git config --global user.email "bot@example.com"
      
      - name: ðŸ”™ Execute Rollback Force
        run: |
          echo "=== STARTING FORCE ROLLBACK ==="
          
          # Pastikan di branch main
          git checkout main
          
          # Reset ke commit target
          git reset --hard 7f4fb63d06f4a60fe822d57733d86317df759f76
          echo "âœ“ Reset to target commit"
          
          # Force push PAKSA
          echo "ðŸ”„ Force pushing to GitHub..."
          git push origin main --force
          
          echo "âœ… ROLLBACK SUCCESS!"
          echo "Repository rolled back to: 7f4fb63"
      
      - name: ðŸŽ‰ Notify Success
        run: |
          echo "================================="
          echo "ðŸŽ‰ ROLLBACK BERHASIL DILAKUKAN!"
          echo "================================="
