#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IGpzb24KZnJvbSBhcHAzLmNsaWVudC5lbmdzZWwgaW1wb3J0IHNlbmRfYXBpX3JlcXVlc3QKZnJvbSBhcHAzLm1lbnVzLnV0aWwgaW1wb3J0IGxpdmVfbG9hZGluZywgcHJpbnRfcGFuZWwKZnJvbSBhcHAzLmNvbmZpZy50aGVtZV9jb25maWcgaW1wb3J0IGdldF90aGVtZQoKCmRlZiB2YWxpZGF0ZV9wdWsoCiAgICBhcGlfa2V5OiBzdHIsCiAgICBtc2lzZG46IHN0ciwKICAgIHB1azogc3RyLAopIC0+IGRpY3Q6CiAgICBwYXRoID0gImFwaS92OC9pbmZvcy92YWxpZGF0ZS1wdWsiCgogICAgcmF3X3BheWxvYWQgPSB7CiAgICAgICAgImlzX2VudGVycHJpc2UiOiBGYWxzZSwKICAgICAgICAicHVrIjogcHVrLAogICAgICAgICJpc19lbmMiOiBGYWxzZSwKICAgICAgICAibXNpc2RuIjogbXNpc2RuLAogICAgICAgICJsYW5nIjogImVuIgogICAgfQoKICAgIHJlcyA9IHNlbmRfYXBpX3JlcXVlc3QoYXBpX2tleSwgcGF0aCwgcmF3X3BheWxvYWQsICIiLCAiUE9TVCIpCgogICAgcmV0dXJuIHJlcwoKZGVmIGR1a2NhcGlsKAogICAgYXBpX2tleTogc3RyLAogICAgbXNpc2RuOiBzdHIsCiAgICBrazogc3RyLAogICAgbmlrOiBzdHIsCikgLT4gZGljdDoKICAgIHBhdGggPSAiYXBpL3Y4L2F1dGgvcmVnaXN0L2R1a2NhcGlsIgoKICAgIHJhd19wYXlsb2FkID0gewogICAgICAgICJtc2lzZG4iOiBtc2lzZG4sCiAgICAgICAgImtrIjoga2ssCiAgICAgICAgIm5payI6IG5paywKICAgICAgICAibGFuZyI6ICJlbiIKICAgIH0KCiAgICByZXMgPSBzZW5kX2FwaV9yZXF1ZXN0KGFwaV9rZXksIHBhdGgsIHJhd19wYXlsb2FkLCAiIiwgIlBPU1QiKQoKICAgIHJldHVybiByZXMK').decode())
