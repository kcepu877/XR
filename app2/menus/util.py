#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IG9zLCByZSwgdGltZSwgdGV4dHdyYXAKZnJvbSBodG1sLnBhcnNlciBpbXBvcnQgSFRNTFBhcnNlcgoKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUKZnJvbSByaWNoLnBhbmVsIGltcG9ydCBQYW5lbApmcm9tIHJpY2gubGl2ZSBpbXBvcnQgTGl2ZQpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlCmZyb20gcmljaC50ZXh0IGltcG9ydCBUZXh0CmZyb20gcmljaC5hbGlnbiBpbXBvcnQgQWxpZ24KZnJvbSByaWNoLnBhZGRpbmcgaW1wb3J0IFBhZGRpbmcKZnJvbSByaWNoIGltcG9ydCBib3gKCmZyb20gYXBwMi5jb25maWcudGhlbWVfY29uZmlnIGltcG9ydCBnZXRfdGhlbWUsIGdldF90aGVtZV9zdHlsZQppbXBvcnQgYXBwMi5tZW51cy5iYW5uZXIgYXMgYmFubmVyCgpjb25zb2xlID0gQ29uc29sZSgpCgphc2NpaV9hcnQgPSBiYW5uZXIubG9hZCgiaHR0cHM6Ly9kMTdlMjJsMnVoNGg0bi5jbG91ZGZyb250Lm5ldC9jb3Jwd2ViL3B1Yi14bGF4aWF0YS8yMDE5LTAzL3hsLWxvZ28ucG5nIiwgZ2xvYmFscygpKQoKCmRlZiBjbGVhcl9zY3JlZW54eCgpOgogICAgIiIiQ2xlYXIgc2NyZWVuIGFuZCBkaXNwbGF5IGJhbm5lciB3aXRoIEFTQ0lJIGFydC4iIiIKICAgIHRyeToKICAgICAgICBvcy5zeXN0ZW0oJ2NscycgaWYgb3MubmFtZSA9PSAnbnQnIGVsc2UgJ2NsZWFyJykKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcHJpbnQoIlxuIiAqIDEwMCkKCiAgICBpZiBhc2NpaV9hcnQ6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBhc2NpaV9hcnQudG9fdGVybWluYWwoY29sdW1ucz01NSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICBwcmludF9iYW5uZXIoKQoKCmRlZiBjbGVhcl9zY3JlZW54KCk6CiAgICAiIiJDbGVhciBzY3JlZW4gYW5kIGRpc3BsYXkgQVNDSUkgYXJ0IGJhbm5lciBvbmx5LiIiIgogICAgb3Muc3lzdGVtKCdjbHMnIGlmIG9zLm5hbWUgPT0gJ250JyBlbHNlICdjbGVhcicpCiAgICBhc2NpaV9hcnQgPSByIiIiCiAgICAgICAgICAgIF9fX19fICAgICAgICAgICAgICAgICAgICBfX19fXyAgICAgICAgICAKIF9fXyAgICAgIF9fXyAgX19fICBfX18gIF9fXyAgX19fICBfX18gICAgICAgCnwiICBcICAgIC8iICB8fCIgIFwvIiAgfHwiICBcLyIgIHx8IiAgfCAgICAgIAogXCAgIFwgIC8vICAgfCBcICAgXCAgLyAgXCAgIFwgIC8gfHwgIHwgICAgICAKIC9cXCAgXC8uICAgIHwgIFxcICBcLyAgICBcXCAgXC8gIHw6ICB8ICAgICAgCnw6IFwuICAgICAgICB8ICAvICAgLyAgICAgL1wuICBcICAgXCAgfF9fXyAgIAp8LiAgXCAgICAvOiAgfCAvICAgLyAgICAgLyAgXCAgIFwgKCBcX3w6ICBcICAKfF9fX3xcX18vfF9fX3x8X19fLyAgICAgfF9fXy9cX19ffCBcX19fX19fXykKIiIiCgogICAgY29uc29sZS5wcmludCgKICAgICAgICBQYWRkaW5nKAogICAgICAgICAgICBBbGlnbi5jZW50ZXIoYXNjaWlfYXJ0KSwKICAgICAgICAgICAgKDEsIDApCiAgICAgICAgKSwKICAgICAgICBzdHlsZT1nZXRfdGhlbWVfc3R5bGUoInRleHRfc3ViIikKICAgICkKCgpkZWYgcHJpbnRfYmFubmVyKCk6CiAgICAiIiJQcmludCBDTEkgYmFubmVyIHdpdGggdmVyc2lvbiBpbmZvcm1hdGlvbi4iIiIKICAgIHRoZW1lID0gZ2V0X3RoZW1lKCkKICAgIGJhbm5lcl90ZXh0ID0gQWxpZ24uY2VudGVyKAogICAgICAgICJbYm9sZF1teVhMIENMSSB2OC45LjEgc3Vuc2V0Wy9dIiwKICAgICAgICB2ZXJ0aWNhbD0ibWlkZGxlIgogICAgKQogICAgY29uc29sZS5wcmludChQYW5lbCgKICAgICAgICBiYW5uZXJfdGV4dCwKICAgICAgICBib3JkZXJfc3R5bGU9dGhlbWVbImJvcmRlcl9wcmltYXJ5Il0sCiAgICAgICAgc3R5bGU9dGhlbWVbInRleHRfdGl0bGUiXSwKICAgICAgICBwYWRkaW5nPSgxLCAyKSwKICAgICAgICBleHBhbmQ9VHJ1ZSwKICAgICAgICBib3g9Ym94LkRPVUJMRQogICAgKSkKCgpkZWYgc2ltcGxlX251bWJlcigpOgogICAgIiIiRGlzcGxheSBhY3RpdmUgYWNjb3VudCBudW1iZXIgb3IgaW5mb3JtYXRpb24gaWYgbm9uZSBpcyBhY3RpdmUuIiIiCiAgICBmcm9tIGFwcC5zZXJ2aWNlLmF1dGggaW1wb3J0IEF1dGhJbnN0YW5jZQogICAgdGhlbWUgPSBnZXRfdGhlbWUoKQogICAgYWN0aXZlX3VzZXIgPSBBdXRoSW5zdGFuY2UuZ2V0X2FjdGl2ZV91c2VyKCkKCiAgICBpZiBub3QgYWN0aXZlX3VzZXI6CiAgICAgICAgdGV4dCA9IGYiW2JvbGQge3RoZW1lWyd0ZXh0X2VyciddfV1UaWRhayBhZGEgYWt1biBha3RpZi5bL10iCiAgICBlbHNlOgogICAgICAgIG51bWJlciA9IGFjdGl2ZV91c2VyLmdldCgibnVtYmVyIiwgIi0iKQogICAgICAgIHRleHQgPSBmIltib2xkIHt0aGVtZVsndGV4dF9zdWInXX1dQWt1biBha3RpZjoge251bWJlcn1bL10iCgogICAgY29uc29sZS5wcmludChQYW5lbCgKICAgICAgICBBbGlnbi5jZW50ZXIodGV4dCksCiAgICAgICAgYm9yZGVyX3N0eWxlPXRoZW1lWyJib3JkZXJfcHJpbWFyeSJdLAogICAgICAgIHBhZGRpbmc9KDAsIDApLAogICAgICAgIGV4cGFuZD1UcnVlCiAgICApKQoKCmRlZiBjbGVhcl9zY3JlZW4oKToKICAgICIiIkNsZWFyIHNjcmVlbiBhbmQgZGlzcGxheSBBU0NJSSBhcnQgYmFubmVyLiIiIgogICAgb3Muc3lzdGVtKCdjbHMnIGlmIG9zLm5hbWUgPT0gJ250JyBlbHNlICdjbGVhcicpCiAgICBhc2NpaV9hcnQgPSByIiIiCiBfX18gICAgICBfX18gIF9fXyAgX19fICBfX18gIF9fXyAgX19fICAgICAgIAp8IiAgXCAgICAvIiAgfHwiICBcLyIgIHx8IiAgXC8iICB8fCIgIHwgICAgICAKIFwgICBcICAvLyAgIHwgXCAgIFwgIC8gIFwgICBcICAvIHx8ICB8ICAgICAgCiAvXFwgIFwvLiAgICB8ICBcXCAgXC8gICAgXFwgIFwvICB8OiAgfCAgICAgIAp8OiBcLiAgICAgICAgfCAgLyAgIC8gICAgIC9cLiAgXCAgIFwgIHxfX18gICAKfC4gIFwgICAgLzogIHwgLyAgIC8gICAgIC8gIFwgICBcICggXF98OiAgXCAgCnxfX198XF9fL3xfX198fF9fXy8gICAgIHxfX18vXF9fX3wgXF9fX19fX18pCiIiIgoKICAgIHZlcnNpb25fdGV4dCA9IGYiW3tnZXRfdGhlbWVfc3R5bGUoJ3RleHRfYm9keScpfV1teVhMIENMSSB2OC45LjEgc3Vuc2V0Wy97Z2V0X3RoZW1lX3N0eWxlKCd0ZXh0X2JvZHknKX1dIgogICAgCiAgICBjb250ZW50ID0gZiJ7YXNjaWlfYXJ0fVxuICAgICAgICAgICAgICAgICAge3ZlcnNpb25fdGV4dH0iCiAgICBjb25zb2xlLnByaW50KAogICAgICAgIFBhZGRpbmcoCiAgICAgICAgICAgIEFsaWduLmNlbnRlcihjb250ZW50KSwKICAgICAgICAgICAgKDEsIDApCiAgICAgICAgKSwKICAgICAgICBzdHlsZT1nZXRfdGhlbWVfc3R5bGUoInRleHRfc3ViIikKICAgICkKCgpkZWYgcGF1c2UoKToKICAgICIiIlBhdXNlIGV4ZWN1dGlvbiB1bnRpbCB1c2VyIHByZXNzZXMgRW50ZXIuIiIiCiAgICB0aGVtZSA9IGdldF90aGVtZSgpCiAgICBjb25zb2xlLnByaW50KGYiXG5bYm9sZCB7dGhlbWVbJ3RleHRfc3ViJ119XVRla2FuIEVudGVyIHVudHVrIG1lbGFuanV0a2FuWy9dIikKICAgIGlucHV0KCkKCgpjbGFzcyBIVE1MVG9UZXh0KEhUTUxQYXJzZXIpOgogICAgIiIiQ29udmVydCBIVE1MIGNvbnRlbnQgdG8gcGxhaW4gdGV4dCB3aXRoIG9wdGlvbmFsIGJ1bGxldCBwb2ludHMuIiIiCiAgICBkZWYgX19pbml0X18oc2VsZiwgd2lkdGg9ODAsIGJ1bGxldD0i4oCiIik6CiAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpCiAgICAgICAgc2VsZi53aWR0aCA9IHdpZHRoCiAgICAgICAgc2VsZi5yZXN1bHQgPSBbXQogICAgICAgIHNlbGYuaW5fbGkgPSBGYWxzZQogICAgICAgIHNlbGYuYnVsbGV0ID0gYnVsbGV0CgogICAgZGVmIGhhbmRsZV9zdGFydHRhZyhzZWxmLCB0YWcsIGF0dHJzKToKICAgICAgICBpZiB0YWcgPT0gImxpIjoKICAgICAgICAgICAgc2VsZi5pbl9saSA9IFRydWUKICAgICAgICBlbGlmIHRhZyA9PSAiYnIiOgogICAgICAgICAgICBzZWxmLnJlc3VsdC5hcHBlbmQoIlxuIikKCiAgICBkZWYgaGFuZGxlX2VuZHRhZyhzZWxmLCB0YWcpOgogICAgICAgIGlmIHRhZyA9PSAibGkiOgogICAgICAgICAgICBzZWxmLmluX2xpID0gRmFsc2UKICAgICAgICAgICAgc2VsZi5yZXN1bHQuYXBwZW5kKCJcbiIpCgogICAgZGVmIGhhbmRsZV9kYXRhKHNlbGYsIGRhdGEpOgogICAgICAgIHRleHQgPSBkYXRhLnN0cmlwKCkKICAgICAgICBpZiB0ZXh0OgogICAgICAgICAgICBpZiBzZWxmLmluX2xpOgogICAgICAgICAgICAgICAgc2VsZi5yZXN1bHQuYXBwZW5kKGYie3NlbGYuYnVsbGV0fSB7dGV4dH0iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5yZXN1bHQuYXBwZW5kKHRleHQpCgogICAgZGVmIGdldF90ZXh0KHNlbGYpOgogICAgICAgIHRleHQgPSAiIi5qb2luKHNlbGYucmVzdWx0KQogICAgICAgIHRleHQgPSByZS5zdWIociJcblxzKlxuXHMqXG4rIiwgIlxuXG4iLCB0ZXh0KQogICAgICAgIHJldHVybiAiXG4iLmpvaW4odGV4dHdyYXAud3JhcCh0ZXh0LCB3aWR0aD1zZWxmLndpZHRoLCByZXBsYWNlX3doaXRlc3BhY2U9RmFsc2UpKQoKCmRlZiBkaXNwbGF5X2h0bWwoaHRtbF90ZXh0LCB3aWR0aD04MCk6CiAgICAiIiJSZW5kZXIgSFRNTCB0ZXh0IGludG8gZm9ybWF0dGVkIHBsYWluIHRleHQuIiIiCiAgICBwYXJzZXIgPSBIVE1MVG9UZXh0KHdpZHRoPXdpZHRoKQogICAgcGFyc2VyLmZlZWQoaHRtbF90ZXh0KQogICAgcmV0dXJuIHBhcnNlci5nZXRfdGV4dCgpCgoKZGVmIGZvcm1hdF9xdW90YV9ieXRlKHF1b3RhX2J5dGU6IGludCkgLT4gc3RyOgogICAgIiIiRm9ybWF0IHF1b3RhIGJ5dGVzIGludG8gaHVtYW4tcmVhZGFibGUgc3RyaW5nIChHQiwgTUIsIEtCLCBCKS4iIiIKICAgIEdCID0gMTAyNCoqMwogICAgTUIgPSAxMDI0KioyCiAgICBLQiA9IDEwMjQKICAgIGlmIHF1b3RhX2J5dGUgPj0gR0I6CiAgICAgICAgcmV0dXJuIGYie3F1b3RhX2J5dGUgLyBHQjouMmZ9IEdCIgogICAgZWxpZiBxdW90YV9ieXRlID49IE1COgogICAgICAgIHJldHVybiBmIntxdW90YV9ieXRlIC8gTUI6LjJmfSBNQiIKICAgIGVsaWYgcXVvdGFfYnl0ZSA+PSBLQjoKICAgICAgICByZXR1cm4gZiJ7cXVvdGFfYnl0ZSAvIEtCOi4yZn0gS0IiCiAgICByZXR1cm4gZiJ7cXVvdGFfYnl0ZX0gQiIKCgpkZWYgZ2V0X3J1cGlhaCh2YWx1ZSkgLT4gc3RyOgogICAgIiIiRm9ybWF0IGludGVnZXIgb3Igc3RyaW5nIGludG8gSW5kb25lc2lhbiBSdXBpYWggY3VycmVuY3kgZm9ybWF0LiIiIgogICAgdmFsdWVfc3RyID0gc3RyKHZhbHVlKS5zdHJpcCgpCiAgICB2YWx1ZV9zdHIgPSByZS5zdWIociJeUnBccz8iLCAiIiwgdmFsdWVfc3RyKQogICAgbWF0Y2ggPSByZS5tYXRjaChyIihbXGQsXSspKC4qKSIsIHZhbHVlX3N0cikKICAgIGlmIG5vdCBtYXRjaDoKICAgICAgICByZXR1cm4gdmFsdWVfc3RyCiAgICByYXdfbnVtYmVyID0gbWF0Y2guZ3JvdXAoMSkucmVwbGFjZSgiLCIsICIiKQogICAgc3VmZml4ID0gbWF0Y2guZ3JvdXAoMikuc3RyaXAoKQogICAgdHJ5OgogICAgICAgIG51bWJlciA9IGludChyYXdfbnVtYmVyKQogICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgcmV0dXJuIHZhbHVlX3N0cgogICAgZm9ybWF0dGVkX251bWJlciA9IGYie251bWJlcjosfSIucmVwbGFjZSgiLCIsICIuIikKICAgIGZvcm1hdHRlZCA9IGYie2Zvcm1hdHRlZF9udW1iZXJ9LC0iCiAgICByZXR1cm4gZiJ7Zm9ybWF0dGVkfSB7c3VmZml4fSIgaWYgc3VmZml4IGVsc2UgZm9ybWF0dGVkCgoKZGVmIG5hdl9yYW5nZShsYWJlbDogc3RyLCBjb3VudDogaW50KSAtPiBzdHI6CiAgICAiIiJSZXR1cm4gZm9ybWF0dGVkIG5hdmlnYXRpb24gcmFuZ2Ugc3RyaW5nLiIiIgogICAgaWYgY291bnQgPD0gMDoKICAgICAgICByZXR1cm4gZiJ7bGFiZWx9ICh0aWRhayB0ZXJzZWRpYSkiCiAgICBpZiBjb3VudCA9PSAxOgogICAgICAgIHJldHVybiBmIntsYWJlbH0gKDEpIgogICAgcmV0dXJuIGYie2xhYmVsfSAoMeKAk3tjb3VudH0pIgoKCmRlZiBsaXZlX2xvYWRpbmcodGV4dDogc3RyLCB0aGVtZTogZGljdCk6CiAgICAiIiJEaXNwbGF5IGxpdmUgbG9hZGluZyBzcGlubmVyIHdpdGggdGV4dC4iIiIKICAgIHJldHVybiBjb25zb2xlLnN0YXR1cyhmIlt7dGhlbWVbJ2JvcmRlcl9pbmZvJ119XXt0ZXh0fVsve3RoZW1lWydib3JkZXJfaW5mbyddfV0iLCBzcGlubmVyPSJkb3RzIikKCgpkZWYgZGVsYXlfaW5saW5lKHNlY29uZHM6IGludCk6CiAgICAiIiJUYW1waWxrYW4gY291bnRkb3duIGRlbGF5LiIiIgogICAgdGhlbWUgPSBnZXRfdGhlbWUoKQogICAgd2l0aCBMaXZlKHJlZnJlc2hfcGVyX3NlY29uZD00KSBhcyBsaXZlOgogICAgICAgIGZvciBpIGluIHJhbmdlKHNlY29uZHMsIDAsIC0xKToKICAgICAgICAgICAgcGFuZWwgPSBQYW5lbCgKICAgICAgICAgICAgICAgIGYie2l9IGRldGlrIHRlcnNpc2EuLi4iLAogICAgICAgICAgICAgICAgdGl0bGU9Ik1lbnVuZ2d1IiwKICAgICAgICAgICAgICAgIGJvcmRlcl9zdHlsZT10aGVtZVsiYm9yZGVyX2luZm8iXQogICAgICAgICAgICApCiAgICAgICAgICAgIGxpdmUudXBkYXRlKHBhbmVsKQogICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgcGFuZWwgPSBQYW5lbCgKICAgICAgICAgICAgIkRlbGF5IHNlbGVzYWkuIiwKICAgICAgICAgICAgdGl0bGU9IlNlbGVzYWkiLAogICAgICAgICAgICBib3JkZXJfc3R5bGU9dGhlbWVbImJvcmRlcl9zdWNjZXNzIl0KICAgICAgICApCiAgICAgICAgbGl2ZS51cGRhdGUocGFuZWwpCiAgICAgICAgdGltZS5zbGVlcCgwLjUpCgoKZGVmIHByaW50X3BhbmVsKHRpdGxlLCBjb250ZW50LCBib3JkZXJfc3R5bGU9Tm9uZSk6CiAgICAiIiJQcmludCBhIHBhbmVsIHdpdGggdGl0bGUgYW5kIGNvbnRlbnQuIiIiCiAgICBzdHlsZSA9IGJvcmRlcl9zdHlsZSBvciBnZXRfdGhlbWVfc3R5bGUoImJvcmRlcl9pbmZvIikKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoY29udGVudCwgdGl0bGU9dGl0bGUsIHRpdGxlX2FsaWduPSJsZWZ0IiwgYm9yZGVyX3N0eWxlPXN0eWxlKSkKCgpkZWYgcHJpbnRfc3VjY2Vzcyh0aXRsZSwgY29udGVudCk6CiAgICAiIiJQcmludCBzdWNjZXNzIG1lc3NhZ2UgcGFuZWwuIiIiCiAgICBjb25zb2xlLnByaW50KFBhbmVsKGNvbnRlbnQsIHRpdGxlPXRpdGxlLCB0aXRsZV9hbGlnbj0ibGVmdCIsIGJvcmRlcl9zdHlsZT1nZXRfdGhlbWVfc3R5bGUoImJvcmRlcl9zdWNjZXNzIikpKQoKCmRlZiBwcmludF9lcnJvcih0aXRsZSwgY29udGVudCk6CiAgICAiIiJQcmludCBlcnJvciBtZXNzYWdlIHBhbmVsLiIiIgogICAgY29uc29sZS5wcmludChQYW5lbChjb250ZW50LCB0aXRsZT10aXRsZSwgdGl0bGVfYWxpZ249ImxlZnQiLCBib3JkZXJfc3R5bGU9Z2V0X3RoZW1lX3N0eWxlKCJib3JkZXJfZXJyb3IiKSkpCgoKZGVmIHByaW50X3dhcm5pbmcodGl0bGUsIGNvbnRlbnQpOgogICAgIiIiUHJpbnQgd2FybmluZyBtZXNzYWdlIHBhbmVsLiIiIgogICAgY29uc29sZS5wcmludChQYW5lbChjb250ZW50LCB0aXRsZT10aXRsZSwgdGl0bGVfYWxpZ249ImxlZnQiLCBib3JkZXJfc3R5bGU9Z2V0X3RoZW1lX3N0eWxlKCJib3JkZXJfd2FybmluZyIpKSkKCgpkZWYgcHJpbnRfdGl0bGUodGV4dCk6CiAgICAiIiJQcmludCB0aXRsZSBwYW5lbCB3aXRoIGNlbnRlcmVkIHRleHQuIiIiCiAgICBjb25zb2xlLnByaW50KAogICAgICAgIFBhbmVsKAogICAgICAgICAgICBBbGlnbi5jZW50ZXIoZiJbYm9sZCB7Z2V0X3RoZW1lX3N0eWxlKCd0ZXh0X3RpdGxlJyl9XXt0ZXh0fVsve2dldF90aGVtZV9zdHlsZSgndGV4dF90aXRsZScpfV0iKSwKICAgICAgICAgICAgYm9yZGVyX3N0eWxlPWdldF90aGVtZV9zdHlsZSgiYm9yZGVyX3ByaW1hcnkiKSwKICAgICAgICAgICAgcGFkZGluZz0oMCwgMSksCiAgICAgICAgICAgIGV4cGFuZD1UcnVlLAogICAgICAgICkKICAgICkKCgpkZWYgcHJpbnRfa2V5X3ZhbHVlKGxhYmVsLCB2YWx1ZSk6CiAgICAiIiJQcmludCBrZXktdmFsdWUgcGFpciB3aXRoIGNvbnNpc3RlbnQgc3R5bGluZy4iIiIKICAgIGNvbnNvbGUucHJpbnQoZiJbe2dldF90aGVtZV9zdHlsZSgndGV4dF9rZXknKX1de2xhYmVsfTpbL10gW3tnZXRfdGhlbWVfc3R5bGUoJ3RleHRfdmFsdWUnKX1de3ZhbHVlfVsve2dldF90aGVtZV9zdHlsZSgndGV4dF92YWx1ZScpfV0g4pyUIikKCgpkZWYgcHJpbnRfaW5mbyhsYWJlbCwgdmFsdWUpOgogICAgIiIiUHJpbnQgaW5mb3JtYXRpb25hbCBrZXktdmFsdWUgcGFpci4iIiIKICAgIGNvbnNvbGUucHJpbnQoZiJbe2dldF90aGVtZV9zdHlsZSgndGV4dF9zdWInKX1de2xhYmVsfTpbL3tnZXRfdGhlbWVfc3R5bGUoJ3RleHRfc3ViJyl9XSBbe2dldF90aGVtZV9zdHlsZSgndGV4dF9ib2R5Jyl9XXt2YWx1ZX1bL3tnZXRfdGhlbWVfc3R5bGUoJ3RleHRfYm9keScpfV0iKQoKCmRlZiBwcmludF9tZW51KHRpdGxlLCBvcHRpb25zLCBoaWdobGlnaHQ9Tm9uZSk6CiAgICAiIiJQcmludCBtZW51IG9wdGlvbnMgaW4gYSB0YWJsZSBmb3JtYXQuIiIiCiAgICB0YWJsZSA9IFRhYmxlKHRpdGxlPXRpdGxlLCBib3g9Ym94LlNJTVBMRSwgc2hvd19oZWFkZXI9RmFsc2UpCiAgICBmb3Iga2V5LCBsYWJlbCBpbiBvcHRpb25zLml0ZW1zKCk6CiAgICAgICAgc3R5bGUgPSBnZXRfdGhlbWVfc3R5bGUoInRleHRfdmFsdWUiKQogICAgICAgIGlmIGhpZ2hsaWdodCBhbmQga2V5ID09IGhpZ2hsaWdodDoKICAgICAgICAgICAgc3R5bGUgPSBnZXRfdGhlbWVfc3R5bGUoInRleHRfdGl0bGUiKQogICAgICAgIHRhYmxlLmFkZF9yb3coCiAgICAgICAgICAgIGYiW3tnZXRfdGhlbWVfc3R5bGUoJ3RleHRfa2V5Jyl9XXtrZXl9Wy97Z2V0X3RoZW1lX3N0eWxlKCd0ZXh0X2tleScpfV0iLAogICAgICAgICAgICBmIlt7c3R5bGV9XXtsYWJlbH1bL3tzdHlsZX1dIiwKICAgICAgICApCiAgICBjb25zb2xlLnByaW50KHRhYmxlKQo=').decode())
