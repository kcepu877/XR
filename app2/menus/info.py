#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IGlvCmltcG9ydCBxcmNvZGUKCmZyb20gYXBwMi5jb25maWcuaW1wb3J0cyBpbXBvcnQgKgpmcm9tIGFwcDIubWVudXMudXRpbCBpbXBvcnQgY2xlYXJfc2NyZWVuLCBwYXVzZSwgbGl2ZV9sb2FkaW5nLCBzaW1wbGVfbnVtYmVyCgpjb25zb2xlID0gQ29uc29sZSgpCgoKZGVmIGdlbmVyYXRlX3FyX2FzY2lpKGRhdGE6IHN0cikgLT4gc3RyOgogICAgIiIiR2VuZXJhdGUgQVNDSUkgcmVwcmVzZW50YXRpb24gb2YgYSBRUiBjb2RlLiIiIgogICAgcXIgPSBxcmNvZGUuUVJDb2RlKGJvcmRlcj0xKQogICAgcXIuYWRkX2RhdGEoZGF0YSkKICAgIHFyLm1ha2UoZml0PVRydWUpCiAgICBvdXRwdXQgPSBpby5TdHJpbmdJTygpCiAgICBxci5wcmludF9hc2NpaShvdXQ9b3V0cHV0LCBpbnZlcnQ9VHJ1ZSkKICAgIHJldHVybiBvdXRwdXQuZ2V0dmFsdWUoKQoKCmRlZiBzaG93X2luZm9fbWVudSgpOgogICAgIiIiRGlzcGxheSBkb25hdGlvbiBhbmQgc3VwcG9ydCBpbmZvcm1hdGlvbiB3aXRoIFFSSVMgY29kZS4iIiIKICAgIGNsZWFyX3NjcmVlbigpCiAgICBlbnN1cmVfZ2l0KCkKICAgIHRoZW1lID0gZ2V0X3RoZW1lKCkKICAgIHFyaXNfdXJsID0gKAogICAgICAgICIwMDAyMDEwMTAyMTEyNjYxMDAxNENPTS5HTy1KRUsuV1dXMDExODkzNjAwOTE0MzY1NzgwMzU1NzAyMTBHNjU3ODAzNTU3MDMwM1VNSSIKICAgICAgICAiNTE0NDAwMTRJRC5DTy5RUklTLldXVzAyMTVJRDEwMjQzNDQ1NTU4NzQwMzAzVU1JNTIwNDU0OTk1MzAzMzYwNTgwMklENTkyMldBUlVORyBESUdJVEFMLCBCTkdLTE42MDA5QkFOR0tBTEFOIgogICAgICAgICI2MTA1NjkxMTI2MjA3MDcwM0EwMTYzMDRERUU3IgogICAgKQoKICAgIHdpdGggbGl2ZV9sb2FkaW5nKCJNZW55aWFwa2FuIFFSSVMuLi4iLCB0aGVtZSk6CiAgICAgICAgcXJfY29kZV9hc2NpaSA9IGdlbmVyYXRlX3FyX2FzY2lpKHFyaXNfdXJsKQoKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoCiAgICAgICAgQWxpZ24uY2VudGVyKCJEdWt1bmcgUGVuZ2VtYmFuZ2FuIG15WEwgQ0xJIiwgdmVydGljYWw9Im1pZGRsZSIpLAogICAgICAgIGJvcmRlcl9zdHlsZT10aGVtZVsiYm9yZGVyX2luZm8iXSwKICAgICAgICBwYWRkaW5nPSgxLCAyKSwKICAgICAgICBleHBhbmQ9VHJ1ZQogICAgICkpCiAgICBzaW1wbGVfbnVtYmVyKCkKCiAgICBkb25hdGVfaW5mbyA9IFRleHQoKQogICAgZG9uYXRlX2luZm8uYXBwZW5kKAogICAgICAgICJCdXR1aCBrb2RlIHVubG9jayB1bnR1ayBtZW5hbWJhaCBha3VuIGxlYmloIGJhbnlhaz8gSHVidW5naSBUZWxlZ3JhbSAoQHNlYWtlcjg3NykuXG5cbiIsCiAgICAgICAgc3R5bGU9dGhlbWVbInRleHRfYm9keSJdCiAgICApCiAgICBkb25hdGVfaW5mby5hcHBlbmQoCiAgICAgICAgIlVudHVrIG1lbmR1a3VuZyBwZW5nZW1iYW5nYW4gdG9vbCBpbmksIEFuZGEgZGFwYXQgbWVtYmVyaWthbiBkb25hc2kgbWVsYWx1aSBtZXRvZGUgYmVyaWt1dDpcblxuIiwKICAgICAgICBzdHlsZT10aGVtZVsidGV4dF9ib2R5Il0KICAgICkKICAgIGRvbmF0ZV9pbmZvLmFwcGVuZCgiLSBEYW5hOiAwODc4LTYxMTYtNzQxNFxuIiwgc3R5bGU9dGhlbWVbInRleHRfYm9keSJdKQogICAgZG9uYXRlX2luZm8uYXBwZW5kKCIgIEEvTiBTYWlmdWxcbiIsIHN0eWxlPXRoZW1lWyJ0ZXh0X2JvZHkiXSkKICAgIGRvbmF0ZV9pbmZvLmFwcGVuZCgiLSBRUklTIHRlcnNlZGlhIGRpIGJhd2FoLlxuXG4iLCBzdHlsZT10aGVtZVsidGV4dF9ib2R5Il0pCiAgICBkb25hdGVfaW5mby5hcHBlbmQoIlRlcmltYSBrYXNpaCBhdGFzIGR1a3VuZ2FuIEFuZGEuIiwgc3R5bGU9dGhlbWVbInRleHRfc3ViIl0pCgogICAgY29uc29sZS5wcmludChQYW5lbCgKICAgICAgICBBbGlnbi5sZWZ0KGRvbmF0ZV9pbmZvKSwKICAgICAgICB0aXRsZT1mIlt7dGhlbWVbJ3RleHRfdGl0bGUnXX1dSW5mb3JtYXNpIERvbmFzaVsvXSIsCiAgICAgICAgYm9yZGVyX3N0eWxlPXRoZW1lWyJib3JkZXJfcHJpbWFyeSJdLAogICAgICAgIHBhZGRpbmc9KDEsIDIpLAogICAgICAgIGV4cGFuZD1UcnVlLAogICAgICAgIHRpdGxlX2FsaWduPSJjZW50ZXIiCiAgICApKQoKICAgIGNvbnNvbGUucHJpbnQoUGFuZWwoCiAgICAgICAgQWxpZ24uY2VudGVyKHFyX2NvZGVfYXNjaWkpLAogICAgICAgIHRpdGxlPWYiW3t0aGVtZVsndGV4dF90aXRsZSddfV1TY2FuIFFSSVNbL10iLAogICAgICAgIGJvcmRlcl9zdHlsZT10aGVtZVsiYm9yZGVyX3N1Y2Nlc3MiXSwKICAgICAgICBwYWRkaW5nPSgxLCAyKSwKICAgICAgICBleHBhbmQ9VHJ1ZSwKICAgICAgICB0aXRsZV9hbGlnbj0iY2VudGVyIgogICAgKSkKCiAgICBwYXVzZSgpCg==').decode())
