#!/usr/bin/env python3
import base64
exec(base64.b64decode('aW1wb3J0IGpzb24KZnJvbSBhcHAyLmNsaWVudC5lbmdzZWwgaW1wb3J0IHNlbmRfYXBpX3JlcXVlc3QKZnJvbSBhcHAyLm1lbnVzLnV0aWwgaW1wb3J0IGxpdmVfbG9hZGluZywgcHJpbnRfcGFuZWwKZnJvbSBhcHAyLmNvbmZpZy50aGVtZV9jb25maWcgaW1wb3J0IGdldF90aGVtZQoKCmRlZiBnZXRfZmFtaWx5X2xpc3QoYXBpX2tleTogc3RyLCB0b2tlbnM6IGRpY3QsCiAgICAgICAgICAgICAgICAgICAgc3Vic190eXBlOiBzdHIgPSAiUFJFUEFJRCIsCiAgICAgICAgICAgICAgICAgICAgaXNfZW50ZXJwcmlzZTogYm9vbCA9IEZhbHNlKSAtPiBkaWN0IHwgTm9uZToKICAgIHBhdGggPSAiYXBpL3Y4L3hsLXN0b3Jlcy9vcHRpb25zL3NlYXJjaC9mYW1pbHktbGlzdCIKICAgIHBheWxvYWQgPSB7ImlzX2VudGVycHJpc2UiOiBpc19lbnRlcnByaXNlLCAic3Vic190eXBlIjogc3Vic190eXBlLCAibGFuZyI6ICJlbiJ9CgogICAgd2l0aCBsaXZlX2xvYWRpbmcoIk1lbmdhbWJpbCBkYXRhIGZhbWlseSBsaXN0Li4uIiwgZ2V0X3RoZW1lKCkpOgogICAgICAgIHJlcyA9IHNlbmRfYXBpX3JlcXVlc3QoYXBpX2tleSwgcGF0aCwgcGF5bG9hZCwgdG9rZW5zWyJpZF90b2tlbiJdLCAiUE9TVCIpCgogICAgaWYgbm90IHJlcyBvciByZXMuZ2V0KCJzdGF0dXMiKSAhPSAiU1VDQ0VTUyI6CiAgICAgICAgcHJpbnRfcGFuZWwoIktlc2FsYWhhbiIsICJHYWdhbCBtZW5nYW1iaWwgZGF0YSBmYW1pbHkgbGlzdC4iKQogICAgICAgIHJldHVybiBOb25lCgogICAgcHJpbnRfcGFuZWwoIkJlcmhhc2lsIiwgIkRhdGEgZmFtaWx5IGxpc3QgYmVyaGFzaWwgZGlhbWJpbC4iKQogICAgcmV0dXJuIHJlcwoKCmRlZiBnZXRfc3RvcmVfcGFja2FnZXMoYXBpX2tleTogc3RyLCB0b2tlbnM6IGRpY3QsCiAgICAgICAgICAgICAgICAgICAgICAgc3Vic190eXBlOiBzdHIgPSAiUFJFUEFJRCIsCiAgICAgICAgICAgICAgICAgICAgICAgaXNfZW50ZXJwcmlzZTogYm9vbCA9IEZhbHNlKSAtPiBkaWN0IHwgTm9uZToKICAgIHBhdGggPSAiYXBpL3Y5L3hsLXN0b3Jlcy9vcHRpb25zL3NlYXJjaCIKICAgIHBheWxvYWQgPSB7CiAgICAgICAgImlzX2VudGVycHJpc2UiOiBpc19lbnRlcnByaXNlLAogICAgICAgICJmaWx0ZXJzIjogWwogICAgICAgICAgICB7InVuaXQiOiAiVEhPVVNBTkQiLCAiaWQiOiAiRklMX1NFTF9QIiwgInR5cGUiOiAiUFJJQ0UiLCAiaXRlbXMiOiBbXX0sCiAgICAgICAgICAgIHsidW5pdCI6ICJHQiIsICJpZCI6ICJGSUxfU0VMX01RIiwgInR5cGUiOiAiREFUQV9UWVBFIiwgIml0ZW1zIjogW119LAogICAgICAgICAgICB7InVuaXQiOiAiUEFDS0FHRV9OQU1FIiwgImlkIjogIkZJTF9QS0dfTiIsICJ0eXBlIjogIlBBQ0tBR0VfTkFNRSIsCiAgICAgICAgICAgICAiaXRlbXMiOiBbeyJpZCI6ICIiLCAibGFiZWwiOiAiIn1dfSwKICAgICAgICAgICAgeyJ1bml0IjogIkRBWSIsICJpZCI6ICJGSUxfU0VMX1YiLCAidHlwZSI6ICJWQUxJRElUWSIsICJpdGVtcyI6IFtdfSwKICAgICAgICBdLAogICAgICAgICJzdWJzdHlwZSI6IHN1YnNfdHlwZSwKICAgICAgICAidGV4dF9zZWFyY2giOiAiIiwKICAgICAgICAibGFuZyI6ICJlbiIsCiAgICB9CgogICAgd2l0aCBsaXZlX2xvYWRpbmcoIk1lbmdhbWJpbCBkYXRhIHN0b3JlIHBhY2thZ2VzLi4uIiwgZ2V0X3RoZW1lKCkpOgogICAgICAgIHJlcyA9IHNlbmRfYXBpX3JlcXVlc3QoYXBpX2tleSwgcGF0aCwgcGF5bG9hZCwgdG9rZW5zWyJpZF90b2tlbiJdLCAiUE9TVCIpCgogICAgaWYgbm90IHJlcyBvciByZXMuZ2V0KCJzdGF0dXMiKSAhPSAiU1VDQ0VTUyI6CiAgICAgICAgcHJpbnRfcGFuZWwoIktlc2FsYWhhbiIsICJHYWdhbCBtZW5nYW1iaWwgZGF0YSBzdG9yZSBwYWNrYWdlcy4iKQogICAgICAgIHJldHVybiBOb25lCgogICAgcHJpbnRfcGFuZWwoIkJlcmhhc2lsIiwgIkRhdGEgc3RvcmUgcGFja2FnZXMgYmVyaGFzaWwgZGlhbWJpbC4iKQogICAgcmV0dXJuIHJlcwo=').decode())
